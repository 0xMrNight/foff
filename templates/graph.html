{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center py-5">
    <div class="col-md-10">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1 class="fw-bold mb-1">{{ name }}'s <span class="text-accent">Profile</span></h1>
                <p class="text-dim mb-0">Cognitive Load & Attention Analytics</p>
            </div>
            <a href="/" class="btn btn-outline-secondary rounded-pill px-4">
                ‚Üê Back to Dashboard
            </a>
        </div>

        <div class="glass-card">
            <div class="bg-dark p-3 rounded-4 border border-secondary mb-5 shadow-inner">
                <img src="data:image/png;base64,{{ plot_url }}" 
                     class="img-fluid w-100 rounded-3" 
                     alt="Attention Data Visualization">
            </div>

            <div class="row g-4">
                <div class="col-md-7">
                    <div class="p-4 rounded-4 h-100 position-relative overflow-hidden" 
                         style="background: rgba(0, 212, 255, 0.07); border: 1px solid rgba(0, 212, 255, 0.3);">
                        
                        <div class="position-absolute" style="right: -10px; bottom: -10px; font-size: 5rem; opacity: 0.1; transform: rotate(-15deg);">
                            ‚è∞
                        </div>

                        <div class="text-accent small fw-bold text-uppercase mb-2 tracking-widest">
                            Recommendation from the Fountain
                        </div>
                        <h2 class="fw-bold text-white mb-3">Best Study Time: <span class="text-accent">{{ best_time }}</span></h2>
                        <p class="text-dim fs-6 mb-0" style="max-width: 90%;">
                            The fountain predicts that your neural synchronization and environmental focus are at their highest at <strong>{{ best_time }}</strong>. 
                            Plan your most complex tasks (coding, deep reading, or math) during this window for maximum efficiency.
                        </p>
                    </div>
                </div>

                <div class="col-md-5">
                    <div class="p-4 rounded-4 h-100 border border-secondary" 
                         style="background: rgba(255, 255, 255, 0.02);">
                        
                        <div class="text-dim small fw-bold text-uppercase mb-2 tracking-widest">
                            Max Focus Intensity
                        </div>
                        <div class="d-flex align-items-baseline mb-2">
                            <h2 class="display-5 fw-bold text-white mb-0">{{ peak_score }}%</h2>
                            <span class="ms-2 text-accent fw-bold small">PEAK</span>
                        </div>
                        <hr class="border-secondary opacity-25">
                        <ul class="list-unstyled small text-dim mb-0">
                            <li class="mb-2">‚úÖ High Capacity Utilization</li>
                            <li class="mb-2">‚ö†Ô∏è Avoid focus dips at 11 AM / 4 PM</li>
                            <li>üí§ Recovery active during sleep hours</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Adding a subtle inner shadow to the graph box to make it look embedded */
    .shadow-inner {
        box-shadow: inset 0 2px 10px rgba(0,0,0,0.5);
    }
    
    /* Animation for the suggestion card to draw attention */
    .glass-card .text-accent {
        text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
    }
</style>
{% endblock %}